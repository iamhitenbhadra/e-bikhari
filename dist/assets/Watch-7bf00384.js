import{b as B,u as W,r as b,j as e,m as l}from"./index-ba056f57.js";import{b as q,d as f,u as S,a as w,B as z,I as d,M as v,c as n}from"./MasonryGrid-5a2b903f.js";const E=()=>{var p,u,g;const{type:i,id:a}=B(),j=W(),[o,h]=b.useState(!1),N=b.useRef(null),{addToWatchlist:y,removeFromWatchlist:k,isInWatchlist:_}=q(),{data:t,isLoading:C}=f({queryKey:["details",i,a],queryFn:()=>n.getDetails(i,a)}),{data:c}=f({queryKey:["credits",i,a],queryFn:()=>n.getCredits(i,a)}),{scrollY:x}=S(),F=w(x,[0,500],[0,150]),$=w(x,[0,400],[1,0]);if(C)return e.jsx("div",{className:"h-screen w-full bg-[#0a0a0a] grid place-items-center text-white/20 animate-pulse",children:"Loading Experience..."});const M=i==="tv"?`https://www.vidking.net/embed/tv/${a}/1/1`:`https://www.vidking.net/embed/movie/${a}`,r=t?_(t.id):!1,m=((p=c==null?void 0:c.cast)==null?void 0:p.slice(0,10))||[];return e.jsxs("div",{ref:N,className:"relative min-h-screen bg-[#0a0a0a] text-white w-full overflow-hidden",children:[e.jsxs(l.div,{style:{y:F,opacity:o?0:$},className:"fixed inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center scale-110",style:{backgroundImage:`url(${z}${t.backdrop_path})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a]/60 to-black/30"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"})]}),e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 p-6 flex justify-between items-center bg-gradient-to-b from-black/80 to-transparent pointer-events-none",children:e.jsxs("button",{onClick:()=>j("/"),className:"pointer-events-auto bg-white/5 backdrop-blur-xl border border-white/10 px-5 py-2.5 rounded-full flex items-center gap-2 hover:bg-white/10 transition-all hover:scale-105 group",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"group-hover:-translate-x-1 transition-transform",children:e.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),e.jsx("span",{className:"font-medium text-sm",children:"Back to Browse"})]})}),e.jsx("div",{className:"relative z-10 pt-[15vh] pb-32",children:o?e.jsx(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full h-screen fixed inset-0 z-50 bg-black flex flex-col",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("iframe",{src:M,className:"w-full h-full border-0",allowFullScreen:!0,allow:"autoplay; encrypted-media; picture-in-picture"}),e.jsx("button",{onClick:()=>h(!1),className:"absolute top-6 right-6 bg-white/10 backdrop-blur-md p-3 rounded-full hover:bg-white/20 transition-all border border-white/5",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})}):e.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 md:px-12 grid grid-cols-1 lg:grid-cols-[1fr,400px] gap-12 lg:gap-24 items-end min-h-[60vh]",children:[e.jsxs(l.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-white/10 backdrop-blur-md text-xs font-bold tracking-wider uppercase text-white/80 border border-white/5",children:i==="tv"?"TV Series":"Feature Film"}),e.jsx("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-black tracking-tighter leading-[0.9] text-white",children:t.title||t.name})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-lg font-medium text-white/70",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#f5c518] text-2xl",children:"â˜…"}),e.jsx("span",{className:"text-white",children:(u=t.vote_average)==null?void 0:u.toFixed(1)})]}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white/20"}),e.jsx("span",{children:(t.release_date||t.first_air_date||"").slice(0,4)}),t.runtime>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white/20"}),e.jsxs("span",{children:[Math.floor(t.runtime/60),"h ",t.runtime%60,"m"]})]})]}),e.jsx("p",{className:"text-xl leading-relaxed text-white/80 max-w-2xl font-light",children:t.overview}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("button",{onClick:()=>h(!0),className:"group relative px-10 py-5 bg-white text-black rounded-full font-bold text-xl flex items-center gap-3 hover:scale-105 transition-transform shadow-[0_0_50px_-10px_rgba(255,255,255,0.4)]",children:[e.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center group-hover:bg-[#2997FF] transition-colors",children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",className:"ml-1",children:e.jsx("path",{d:"M8 5v14l11-7z"})})}),e.jsx("span",{children:"Watch Now"})]}),e.jsxs("button",{onClick:()=>r?k(t.id):y(t),className:`px-8 py-5 rounded-full font-bold text-lg flex items-center gap-3 transition-all border ${r?"bg-white/10 border-white/20 text-white hover:bg-white/20":"bg-transparent border-white/20 text-white hover:bg-white/5"}`,children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:r?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),e.jsx("span",{children:r?"Added":"Add to List"})]})]}),m.length>0&&e.jsxs("div",{className:"pt-8 border-t border-white/10",children:[e.jsx("h3",{className:"text-white/50 text-xs font-bold uppercase tracking-widest mb-4",children:"Starring"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:m.map(s=>e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 px-4 py-2 rounded-full border border-white/5 hover:bg-white/10 transition-colors",children:[s.profile_path?e.jsx("img",{src:`${d}${s.profile_path}`,className:"w-8 h-8 rounded-full object-cover",alt:s.name}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"?"}),e.jsx("span",{className:"text-sm font-medium text-white/90",children:s.name})]},s.id))})]}),((g=t.production_companies)==null?void 0:g.length)>0&&e.jsx("div",{className:"pt-6",children:e.jsx("div",{className:"flex flex-wrap gap-6 items-center opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:t.production_companies.filter(s=>s.logo_path).slice(0,3).map(s=>e.jsx("img",{src:`${d}${s.logo_path}`,alt:s.name,className:"h-6 object-contain invert"},s.id))})})]}),e.jsxs(l.div,{initial:{opacity:0,scale:.9,rotate:3},animate:{opacity:1,scale:1,rotate:0},transition:{duration:.8,delay:.2},className:"hidden lg:block relative",children:[e.jsx("img",{src:`${d}${t.poster_path}`,alt:"Poster",className:"w-full rounded-2xl shadow-2xl ring-1 ring-white/10 rotate-3 hover:rotate-0 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-black/50 to-transparent pointer-events-none"})]})]})}),!o&&e.jsxs("div",{className:"relative z-10 bg-[#0a0a0a] min-h-screen pt-20 rounded-t-[3rem] shadow-[0_-20px_60px_rgba(0,0,0,0.8)] border-t border-white/5",children:[e.jsx(v,{title:"You Might Also Like",queryKey:`similar-${a}`,queryFn:()=>n.getSimilar(i,a)}),e.jsx(v,{title:"Recommended For You",queryKey:`recommended-${a}`,queryFn:()=>n.getRecommended(i,a)})]})]})};export{E as default};
