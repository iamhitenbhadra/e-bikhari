import{u as d,j as e,B as x,m as o,r as u,a as r}from"./index-ef5ce79f.js";import{u as h}from"./useQuery-0185d548.js";const g=({item:t})=>{const s=d();return t?e.jsxs("div",{className:"relative h-[90vh] w-full",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:`${x}${t.backdrop_path}`,alt:t.title,className:"w-full h-full object-cover",fetchPriority:"high"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#141414] via-transparent to-transparent opacity-90"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#141414] via-transparent to-transparent"})]}),e.jsx("div",{className:"relative z-10 h-full flex items-center px-[4%] pt-[80px]",children:e.jsxs("div",{className:"max-w-xl md:max-w-2xl space-y-6",children:[e.jsx("h1",{className:"text-5xl md:text-7xl font-bold tracking-tighter drop-shadow-lg text-white",children:t.title||t.name}),e.jsxs("div",{className:"flex items-center gap-4 text-green-400 font-bold text-lg",children:[e.jsx("span",{children:"98% Match"}),e.jsx("span",{className:"text-gray-300 font-normal",children:(t.release_date||t.first_air_date||"").slice(0,4)}),e.jsx("span",{className:"border border-gray-500 px-1 text-xs text-white rounded font-normal",children:"HD"})]}),e.jsx("p",{className:"text-white text-lg md:text-xl drop-shadow-md line-clamp-3 w-[90%]",children:t.overview}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs("button",{onClick:()=>s(`/watch/${t.media_type||"movie"}/${t.id}`),className:"flex items-center gap-3 bg-white text-black px-8 py-3 rounded hover:bg-white/90 transition font-bold text-xl",children:[e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M8 5v14l11-7z"})}),"Play"]}),e.jsxs("button",{className:"flex items-center gap-3 bg-[rgba(109,109,110,0.7)] text-white px-8 py-3 rounded hover:bg-[rgba(109,109,110,0.4)] transition font-bold text-xl backdrop-blur-sm",children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),"More Info"]})]})]})})]}):null},b=({item:t})=>{const s=d(),a=t.backdrop_path||t.poster_path;return e.jsxs(o.div,{className:"relative flex-shrink-0 cursor-pointer rounded-md overflow-hidden aspect-video w-[240px] md:w-[280px]",whileHover:{scale:1.1,zIndex:50,transition:{duration:.3,delay:.1}},onClick:()=>s(`/watch/${t.media_type||"movie"}/${t.id}`),children:[e.jsx("img",{src:`${x}${a}`,alt:t.title||t.name,className:"w-full h-full object-cover rounded-md",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/10 hover:bg-transparent transition-colors"}),e.jsxs(o.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-x-0 bottom-0 p-3 bg-gradient-to-t from-black via-black/60 to-transparent",children:[e.jsx("h4",{className:"text-white text-sm font-bold truncate",children:t.title||t.name}),e.jsxs("div",{className:"flex gap-2 text-[10px] text-green-400 font-semibold mt-1",children:[e.jsx("span",{children:"98% Match"}),e.jsx("span",{className:"text-white border border-white/40 px-1 rounded",children:"HD"})]})]})]})},l=({title:t,queryKey:s,queryFn:a})=>{var c;const{data:i,isLoading:p}=h({queryKey:[s],queryFn:a}),m=u.useRef(null);return p?e.jsx("div",{className:"h-64 flex items-center justify-center text-white/20",children:"Loading..."}):e.jsxs(o.section,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8},className:"mb-12",children:[e.jsxs("h2",{className:"px-[6%] text-xl font-semibold mb-4 text-white/70 flex items-center gap-4",children:[t,e.jsx("div",{className:"h-[1px] bg-white/10 flex-1"})]}),e.jsx("div",{ref:m,className:"flex gap-4 px-[6%] overflow-x-auto pb-8 snap-x snap-mandatory scrollbar-hide",style:{scrollbarWidth:"none"},children:(c=i==null?void 0:i.results)==null?void 0:c.map(n=>n.poster_path&&e.jsx(b,{item:n},n.id))})]})},f=()=>{const{data:t,isLoading:s}=h({queryKey:["trending"],queryFn:r.getTrending});if(s)return e.jsx("div",{className:"h-screen bg-black grid place-items-center",children:e.jsx("div",{className:"w-10 h-10 border-4 border-white/20 border-t-white rounded-full animate-spin"})});const a=t==null?void 0:t.results[0];return e.jsxs("div",{className:"min-h-screen bg-black pb-20",children:[e.jsx(g,{item:a}),e.jsxs("div",{className:"relative z-20 -mt-32 md:-mt-48 space-y-8 pl-4 md:pl-12 pb-20",children:[e.jsx(l,{title:"Trending Now",queryKey:"trending",queryFn:r.getTrending}),e.jsx(l,{title:"Top Rated",queryKey:"topRated",queryFn:r.getTopRated}),e.jsx(l,{title:"Action Movies",queryKey:"action",queryFn:r.getActionMovies})]})]})};export{f as default};
