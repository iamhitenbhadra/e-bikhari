var ge=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var a=(e,t,s)=>(ge(e,t,"read from private field"),s?s.call(e):t.get(e)),g=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},b=(e,t,s,i)=>(ge(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);var y=(e,t,s)=>(ge(e,t,"access private method"),s);import{S as at,p as Le,c as I,s as ve,d as G,n as be,i as ye,e as We,t as ot,f as ce,g as ct,h as lt,k as Be,l as Ze,o as ze,q as ht,v as ut,r as w,w as Xe,x as dt,y as Ce,z as V,M as ft,B as Ke,C as qe,D as et,E as Y,F as me,G as pt,H as gt,I as mt,J as xt,K as vt,L as bt,j as c,m as le,u as yt}from"./index-ba056f57.js";var N,u,X,E,L,D,C,T,K,Q,H,W,B,k,$,z,J,q,we,ee,Ee,te,Ne,se,Re,ie,je,re,Se,ne,Ie,de,st,Ge,tt=(Ge=class extends at{constructor(t,s){super();g(this,z);g(this,q);g(this,ee);g(this,te);g(this,se);g(this,ie);g(this,re);g(this,ne);g(this,de);g(this,N,void 0);g(this,u,void 0);g(this,X,void 0);g(this,E,void 0);g(this,L,void 0);g(this,D,void 0);g(this,C,void 0);g(this,T,void 0);g(this,K,void 0);g(this,Q,void 0);g(this,H,void 0);g(this,W,void 0);g(this,B,void 0);g(this,k,void 0);g(this,$,new Set);this.options=s,b(this,N,t),b(this,T,null),b(this,C,Le()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(a(this,u).addObserver(this),Ae(a(this,u),this.options)?y(this,z,J).call(this):this.updateResult(),y(this,se,Re).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Me(a(this,u),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Me(a(this,u),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,y(this,ie,je).call(this),y(this,re,Se).call(this),a(this,u).removeObserver(this)}setOptions(t){const s=this.options,i=a(this,u);if(this.options=a(this,N).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof I(this.options.enabled,a(this,u))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");y(this,ne,Ie).call(this),a(this,u).setOptions(this.options),s._defaulted&&!ve(this.options,s)&&a(this,N).getQueryCache().notify({type:"observerOptionsUpdated",query:a(this,u),observer:this});const r=this.hasListeners();r&&Fe(a(this,u),i,this.options,s)&&y(this,z,J).call(this),this.updateResult(),r&&(a(this,u)!==i||I(this.options.enabled,a(this,u))!==I(s.enabled,a(this,u))||G(this.options.staleTime,a(this,u))!==G(s.staleTime,a(this,u)))&&y(this,q,we).call(this);const n=y(this,ee,Ee).call(this);r&&(a(this,u)!==i||I(this.options.enabled,a(this,u))!==I(s.enabled,a(this,u))||n!==a(this,k))&&y(this,te,Ne).call(this,n)}getOptimisticResult(t){const s=a(this,N).getQueryCache().build(a(this,N),t),i=this.createResult(s,t);return Et(this,i)&&(b(this,E,i),b(this,D,this.options),b(this,L,a(this,u).state)),i}getCurrentResult(){return a(this,E)}trackResult(t,s){return new Proxy(t,{get:(i,r)=>(this.trackProp(r),s==null||s(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&a(this,C).status==="pending"&&a(this,C).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,r))})}trackProp(t){a(this,$).add(t)}getCurrentQuery(){return a(this,u)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=a(this,N).defaultQueryOptions(t),i=a(this,N).getQueryCache().build(a(this,N),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(t){return y(this,z,J).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),a(this,E)))}createResult(t,s){var ke;const i=a(this,u),r=this.options,n=a(this,E),o=a(this,L),l=a(this,D),d=t!==i?t.state:a(this,X),{state:x}=t;let f={...x},p=!1,v;if(s._optimisticResults){const j=this.hasListeners(),ae=!j&&Ae(t,s),F=j&&Fe(t,i,s,r);(ae||F)&&(f={...f,...lt(x.data,t.options)}),s._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:R,errorUpdatedAt:S,status:h}=f;v=f.data;let P=!1;if(s.placeholderData!==void 0&&v===void 0&&h==="pending"){let j;n!=null&&n.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData)?(j=n.data,P=!0):j=typeof s.placeholderData=="function"?s.placeholderData((ke=a(this,H))==null?void 0:ke.state.data,a(this,H)):s.placeholderData,j!==void 0&&(h="success",v=Be(n==null?void 0:n.data,j,s),p=!0)}if(s.select&&v!==void 0&&!P)if(n&&v===(o==null?void 0:o.data)&&s.select===a(this,K))v=a(this,Q);else try{b(this,K,s.select),v=s.select(v),v=Be(n==null?void 0:n.data,v,s),b(this,Q,v),b(this,T,null)}catch(j){b(this,T,j)}a(this,T)&&(R=a(this,T),v=a(this,Q),S=Date.now(),h="error");const A=f.fetchStatus==="fetching",fe=h==="pending",pe=h==="error",_e=fe&&A,Te=v!==void 0,M={status:h,fetchStatus:f.fetchStatus,isPending:fe,isSuccess:h==="success",isError:pe,isInitialLoading:_e,isLoading:_e,data:v,dataUpdatedAt:f.dataUpdatedAt,error:R,errorUpdatedAt:S,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!fe,isLoadingError:pe&&!Te,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:pe&&Te,isStale:Pe(t,s),refetch:this.refetch,promise:a(this,C),isEnabled:I(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const j=oe=>{M.status==="error"?oe.reject(M.error):M.data!==void 0&&oe.resolve(M.data)},ae=()=>{const oe=b(this,C,M.promise=Le());j(oe)},F=a(this,C);switch(F.status){case"pending":t.queryHash===i.queryHash&&j(F);break;case"fulfilled":(M.status==="error"||M.data!==F.value)&&ae();break;case"rejected":(M.status!=="error"||M.error!==F.reason)&&ae();break}}return M}updateResult(){const t=a(this,E),s=this.createResult(a(this,u),this.options);if(b(this,L,a(this,u).state),b(this,D,this.options),a(this,L).data!==void 0&&b(this,H,a(this,u)),ve(s,t))return;b(this,E,s);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!a(this,$).size)return!0;const o=new Set(n??a(this,$));return this.options.throwOnError&&o.add("error"),Object.keys(a(this,E)).some(l=>{const m=l;return a(this,E)[m]!==t[m]&&o.has(m)})};y(this,de,st).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&y(this,se,Re).call(this)}},N=new WeakMap,u=new WeakMap,X=new WeakMap,E=new WeakMap,L=new WeakMap,D=new WeakMap,C=new WeakMap,T=new WeakMap,K=new WeakMap,Q=new WeakMap,H=new WeakMap,W=new WeakMap,B=new WeakMap,k=new WeakMap,$=new WeakMap,z=new WeakSet,J=function(t){y(this,ne,Ie).call(this);let s=a(this,u).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(be)),s},q=new WeakSet,we=function(){y(this,ie,je).call(this);const t=G(this.options.staleTime,a(this,u));if(ye||a(this,E).isStale||!We(t))return;const i=ot(a(this,E).dataUpdatedAt,t)+1;b(this,W,ce.setTimeout(()=>{a(this,E).isStale||this.updateResult()},i))},ee=new WeakSet,Ee=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(a(this,u)):this.options.refetchInterval)??!1},te=new WeakSet,Ne=function(t){y(this,re,Se).call(this),b(this,k,t),!(ye||I(this.options.enabled,a(this,u))===!1||!We(a(this,k))||a(this,k)===0)&&b(this,B,ce.setInterval(()=>{(this.options.refetchIntervalInBackground||ct.isFocused())&&y(this,z,J).call(this)},a(this,k)))},se=new WeakSet,Re=function(){y(this,q,we).call(this),y(this,te,Ne).call(this,y(this,ee,Ee).call(this))},ie=new WeakSet,je=function(){a(this,W)&&(ce.clearTimeout(a(this,W)),b(this,W,void 0))},re=new WeakSet,Se=function(){a(this,B)&&(ce.clearInterval(a(this,B)),b(this,B,void 0))},ne=new WeakSet,Ie=function(){const t=a(this,N).getQueryCache().build(a(this,N),this.options);if(t===a(this,u))return;const s=a(this,u);b(this,u,t),b(this,X,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},de=new WeakSet,st=function(t){Ze.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(a(this,E))}),a(this,N).getQueryCache().notify({query:a(this,u),type:"observerResultsUpdated"})})},Ge);function wt(e,t){return I(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ae(e,t){return wt(e,t)||e.state.data!==void 0&&Me(e,t,t.refetchOnMount)}function Me(e,t,s){if(I(t.enabled,e)!==!1&&G(t.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&Pe(e,t)}return!1}function Fe(e,t,s,i){return(e!==t||I(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Pe(e,s)}function Pe(e,t){return I(t.enabled,e)!==!1&&e.isStaleByTime(G(t.staleTime,e))}function Et(e,t){return!ve(e.getCurrentResult(),t)}var Nt=class extends tt{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:ze()})}getOptimisticResult(e){return e.behavior=ze(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var R,S;const{state:s}=e,i=super.createResult(e,t),{isFetching:r,isRefetching:n,isError:o,isRefetchError:l}=i,m=(S=(R=s.fetchMeta)==null?void 0:R.fetchMore)==null?void 0:S.direction,d=o&&m==="forward",x=r&&m==="forward",f=o&&m==="backward",p=r&&m==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:ht(t,s.data),hasPreviousPage:ut(t,s.data),isFetchNextPageError:d,isFetchingNextPage:x,isFetchPreviousPageError:f,isFetchingPreviousPage:p,isRefetchError:l&&!d&&!f,isRefetching:n&&!x&&!p}}},it=w.createContext(!1),Rt=()=>w.useContext(it);it.Provider;function jt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var St=w.createContext(jt()),It=()=>w.useContext(St),Mt=(e,t,s)=>{const i=s!=null&&s.state.error&&typeof e.throwOnError=="function"?Xe(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},Ot=e=>{w.useEffect(()=>{e.clearReset()},[e])},Ct=({result:e,errorResetBoundary:t,throwOnError:s,query:i,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(r&&e.data===void 0||Xe(s,[e.error,i])),Pt=e=>{if(e.suspense){const s=r=>r==="static"?r:Math.max(r??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...r)=>s(i(...r)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},_t=(e,t)=>e.isLoading&&e.isFetching&&!t,Tt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,De=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function rt(e,t,s){var p,v,R,S;const i=Rt(),r=It(),n=dt(s),o=n.defaultQueryOptions(e);(v=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||v.call(p,o);const l=n.getQueryCache().get(o.queryHash);o._optimisticResults=i?"isRestoring":"optimistic",Pt(o),Mt(o,r,l),Ot(r);const m=!n.getQueryCache().get(o.queryHash),[d]=w.useState(()=>new t(n,o)),x=d.getOptimisticResult(o),f=!i&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(h=>{const P=f?d.subscribe(Ze.batchCalls(h)):be;return d.updateResult(),P},[d,f]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),w.useEffect(()=>{d.setOptions(o)},[o,d]),Tt(o,x))throw De(o,d,r);if(Ct({result:x,errorResetBoundary:r,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw x.error;if((S=(R=n.getDefaultOptions().queries)==null?void 0:R._experimental_afterQuery)==null||S.call(R,o,x),o.experimental_prefetchInRender&&!ye&&_t(x,i)){const h=m?De(o,d,r):l==null?void 0:l.promise;h==null||h.catch(be).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?x:d.trackResult(x)}function ys(e,t){return rt(e,tt,t)}function kt(e,t){return rt(e,Nt,t)}function Lt(e){const t=Ce(()=>V(e)),{isStatic:s}=w.useContext(ft);if(s){const[,i]=w.useState(e);w.useEffect(()=>t.on("change",i),[])}return t}const Wt=e=>e&&typeof e=="object"&&e.mix,Bt=e=>Wt(e)?e.mix:void 0;function zt(...e){const t=!Array.isArray(e[0]),s=t?0:-1,i=e[0+s],r=e[1+s],n=e[2+s],o=e[3+s],l=Ke(r,n,{mixer:Bt(n[0]),...o});return t?l(i):l}function nt(e,t){const s=Lt(t()),i=()=>s.set(t());return i(),qe(()=>{const r=()=>Y.update(i,!1,!0),n=e.map(o=>o.on("change",r));return()=>{n.forEach(o=>o()),et(i)}}),s}function At(e){me.current=[],e();const t=nt(me.current,e);return me.current=void 0,t}function Ft(e,t,s,i){if(typeof e=="function")return At(e);const r=typeof t=="function"?t:zt(t,s,i);return Array.isArray(e)?Qe(e,r):Qe([e],([n])=>r(n))}function Qe(e,t){const s=Ce(()=>[]);return nt(e,()=>{s.length=0;const i=e.length;for(let r=0;r<i;r++)s[r]=e[r].get();return t(s)})}function Dt(e,t,s){var i;if(typeof e=="string"){let r=document;t&&(pt(!!t.current),r=t.current),s?((i=s[e])!==null&&i!==void 0||(s[e]=r.querySelectorAll(e)),e=s[e]):e=r.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const he=new WeakMap;let _;function Qt(e,t){if(t){const{inlineSize:s,blockSize:i}=t[0];return{width:s,height:i}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Ht({target:e,contentRect:t,borderBoxSize:s}){var i;(i=he.get(e))===null||i===void 0||i.forEach(r=>{r({target:e,contentSize:t,get size(){return Qt(e,s)}})})}function $t(e){e.forEach(Ht)}function Ut(){typeof ResizeObserver>"u"||(_=new ResizeObserver($t))}function Vt(e,t){_||Ut();const s=Dt(e);return s.forEach(i=>{let r=he.get(i);r||(r=new Set,he.set(i,r)),r.add(t),_==null||_.observe(i)}),()=>{s.forEach(i=>{const r=he.get(i);r==null||r.delete(t),r!=null&&r.size||_==null||_.unobserve(i)})}}const ue=new Set;let Z;function Yt(){Z=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};ue.forEach(s=>s(t))},window.addEventListener("resize",Z)}function Jt(e){return ue.add(e),Z||Yt(),()=>{ue.delete(e),!ue.size&&Z&&(Z=void 0)}}function Gt(e,t){return typeof e=="function"?Jt(e):Vt(e,t)}const Zt=50,He=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Xt=()=>({time:0,x:He(),y:He()}),Kt={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function $e(e,t,s,i){const r=s[t],{length:n,position:o}=Kt[t],l=r.current,m=s.time;r.current=e["scroll"+o],r.scrollLength=e["scroll"+n]-e["client"+n],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=gt(0,r.scrollLength,r.current);const d=i-m;r.velocity=d>Zt?0:mt(r.current-l,d)}function qt(e,t,s){$e(e,"x",t,s),$e(e,"y",t,s),t.time=s}function es(e,t){const s={x:0,y:0};let i=e;for(;i&&i!==t;)if(i instanceof HTMLElement)s.x+=i.offsetLeft,s.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const n=i.getBoundingClientRect();s.x+=r.left-n.left,s.y+=r.top-n.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:n}=i.getBBox();s.x+=r,s.y+=n;let o=null,l=i.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=i.parentNode;i=o}else break;return s}const ts={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Oe={start:0,center:.5,end:1};function Ue(e,t,s=0){let i=0;if(Oe[e]!==void 0&&(e=Oe[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?i=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?i=r/100*document.documentElement.clientWidth:e.endsWith("vh")?i=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(i=t*e),s+i}const ss=[0,0];function is(e,t,s,i){let r=Array.isArray(e)?e:ss,n=0,o=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,Oe[e]?e:"0"]),n=Ue(r[0],s,i),o=Ue(r[1],t),n-o}const rs={x:0,y:0};function ns(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function as(e,t,s){let{offset:i=ts.All}=s;const{target:r=e,axis:n="y"}=s,o=n==="y"?"height":"width",l=r!==e?es(r,e):rs,m=r===e?{width:e.scrollWidth,height:e.scrollHeight}:ns(r),d={width:e.clientWidth,height:e.clientHeight};t[n].offset.length=0;let x=!t[n].interpolate;const f=i.length;for(let p=0;p<f;p++){const v=is(i[p],d[o],m[o],l[n]);!x&&v!==t[n].interpolatorOffsets[p]&&(x=!0),t[n].offset[p]=v}x&&(t[n].interpolate=Ke(t[n].offset,xt(i)),t[n].interpolatorOffsets=[...t[n].offset]),t[n].progress=t[n].interpolate(t[n].current)}function os(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let i=t;for(;i&&i!==e;)s.x.targetOffset+=i.offsetLeft,s.y.targetOffset+=i.offsetTop,i=i.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function cs(e,t,s,i={}){return{measure:()=>os(e,i.target,s),update:r=>{qt(e,s,r),(i.offset||i.target)&&as(e,s,i)},notify:()=>t(s)}}const U=new WeakMap,Ve=new WeakMap,xe=new WeakMap,Ye=e=>e===document.documentElement?window:e;function ls(e,{container:t=document.documentElement,...s}={}){let i=xe.get(t);i||(i=new Set,xe.set(t,i));const r=Xt(),n=cs(t,e,r,s);if(i.add(n),!U.has(t)){const l=()=>{for(const p of i)p.measure()},m=()=>{for(const p of i)p.update(vt.timestamp)},d=()=>{for(const p of i)p.notify()},x=()=>{Y.read(l,!1,!0),Y.read(m,!1,!0),Y.update(d,!1,!0)};U.set(t,x);const f=Ye(t);window.addEventListener("resize",x,{passive:!0}),t!==document.documentElement&&Ve.set(t,Gt(t,x)),f.addEventListener("scroll",x,{passive:!0})}const o=U.get(t);return Y.read(o,!1,!0),()=>{var l;et(o);const m=xe.get(t);if(!m||(m.delete(n),m.size))return;const d=U.get(t);U.delete(t),d&&(Ye(t).removeEventListener("scroll",d),(l=Ve.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function Je(e,t){bt(!!(!t||t.current))}const hs=()=>({scrollX:V(0),scrollY:V(0),scrollXProgress:V(0),scrollYProgress:V(0)});function us({container:e,target:t,layoutEffect:s=!0,...i}={}){const r=Ce(hs);return(s?qe:w.useEffect)(()=>(Je("target",t),Je("container",e),ls(({x:o,y:l})=>{r.scrollX.set(o.current),r.scrollXProgress.set(o.progress),r.scrollY.set(l.current),r.scrollYProgress.set(l.progress)},{...i,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(i.offset)]),r}const ds="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0MWRiNTg1MGZjYTY1ZDk4NDkxNzYxNjU4OWMxMzcyMiIsIm5iZiI6MTc1ODc0Mjk3Mi4wMTIsInN1YiI6IjY4ZDQ0OWJiY2FiYmYxM2NkYTcxOWNmYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.y_wbEycxapRlawH-g4BwjBMpeD7Xnb7BFCHmMLuW2ZY",fs="https://api.themoviedb.org/3",ps="https://image.tmdb.org/t/p/w500",ws="https://image.tmdb.org/t/p/original",O=async e=>{const t=await fetch(`${fs}${e}`,{headers:{Authorization:`Bearer ${ds}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Network response was not ok");return t.json()},Es={getTrending:(e=1)=>O(`/trending/all/day?page=${e}`),getTopRated:(e=1)=>O(`/movie/top_rated?page=${e}`),getActionMovies:(e=1)=>O(`/discover/movie?with_genres=28&page=${e}`),getByGenre:(e,t=1)=>O(`/discover/movie?with_genres=${e}&page=${t}`),getDetails:(e,t)=>O(`/${e}/${t}`),search:(e,t=1)=>O(`/search/multi?query=${encodeURIComponent(e)}&page=${t}`),getSimilar:(e,t,s=1)=>O(`/${e}/${t}/similar?page=${s}`),getRecommended:(e,t,s=1)=>O(`/${e}/${t}/recommendations?page=${s}`),getVideos:(e,t)=>O(`/${e}/${t}/videos`),getCredits:(e,t)=>O(`/${e}/${t}/credits`)},Ns=()=>{const[e,t]=w.useState(()=>{try{const n=localStorage.getItem("vexo_watchlist");return n?JSON.parse(n):[]}catch{return[]}});return w.useEffect(()=>{localStorage.setItem("vexo_watchlist",JSON.stringify(e))},[e]),{watchlist:e,addToWatchlist:n=>{t(o=>o.find(l=>l.id===n.id)?o:[...o,{...n,timestamp:Date.now()}])},removeFromWatchlist:n=>{t(o=>o.filter(l=>l.id!==n))},isInWatchlist:n=>!!e.find(o=>o.id===n)}},gs=()=>c.jsxs("div",{className:"relative aspect-[2/3] rounded-2xl overflow-hidden bg-white/5",children:[c.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/5 to-transparent backdrop-blur-sm"}),c.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[c.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]}),ms=({onRetry:e})=>c.jsx("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-[#0a0a0a] min-h-[50vh] w-full",children:c.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md space-y-6",children:[c.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto text-red-500 mb-6",children:c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 1l22 22"}),c.jsx("path",{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"}),c.jsx("path",{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"}),c.jsx("path",{d:"M10.71 5.05A16 16 0 0 1 22.58 9"}),c.jsx("path",{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"}),c.jsx("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),c.jsx("line",{x1:"12",y1:"20",x2:"12.01",y2:"20"})]})}),c.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white",children:"Connection Failed"}),c.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-left space-y-2",children:[c.jsx("p",{className:"text-white/80 font-medium",children:"Tips to fix this:"}),c.jsxs("ul",{className:"text-sm text-white/60 list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Check your internet connection"}),c.jsx("li",{className:"text-yellow-400/90 font-semibold",children:"Try enabling a VPN (TMDB may be blocked)"}),c.jsx("li",{children:"Disable ad-blockers"})]})]}),c.jsx("button",{onClick:e,className:"px-8 py-3 bg-white text-black rounded-full font-bold hover:scale-105 transition-transform",children:"Try Again"})]})}),Rs=({title:e,queryKey:t,queryFn:s})=>{const i=yt(),{data:r,isLoading:n,isError:o,fetchNextPage:l,hasNextPage:m,isFetchingNextPage:d,refetch:x}=kt({queryKey:[t],queryFn:({pageParam:h=1})=>s(h),getNextPageParam:h=>h.page<h.total_pages?h.page+1:void 0}),f=w.useRef(),p=w.useRef();w.useEffect(()=>{n||(f.current&&f.current.disconnect(),f.current=new IntersectionObserver(h=>{h[0].isIntersecting&&m&&!d&&l()}),p.current&&f.current.observe(p.current))},[n,m,d,l]);const v=w.useRef(null),{scrollYProgress:R}=us({target:v,offset:["start end","end start"]});if(Ft(R,[0,1],[50,-50]),o)return c.jsxs("section",{className:"px-4 md:px-8 py-12 max-w-[1800px] mx-auto",children:[c.jsx("h2",{className:"text-2xl font-bold text-white/50 mb-8",children:e}),c.jsx("div",{className:"bg-white/5 rounded-2xl border border-white/5 overflow-hidden",children:c.jsx(ms,{onRetry:x})})]});if(n)return c.jsxs("section",{className:"px-4 md:px-8 py-12 max-w-[1800px] mx-auto",children:[c.jsx("div",{className:"h-10 w-48 bg-white/5 rounded mb-12 animate-pulse"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 gap-y-12",children:[...Array(10)].map((h,P)=>c.jsx(gs,{},P))})]});const S=(r==null?void 0:r.pages.flatMap(h=>h.results))||[];return S.length===0?c.jsxs("section",{className:"h-[60vh] flex flex-col items-center justify-center text-center px-6",children:[c.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-6",children:c.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"text-white/40",children:c.jsx("path",{d:"M10 21h4a9 9 0 1 0-9-9v3m0 0 4-4m-4 4-4-4"})})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"No Results Found"}),c.jsx("p",{className:"text-white/50 max-w-sm",children:"We couldn't find anything matching your search. Try adjusting your filters or search term."})]}):c.jsxs("section",{ref:v,className:"px-4 md:px-8 py-12 max-w-[1800px] mx-auto",children:[c.jsx(le.h2,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"text-4xl md:text-5xl font-black mb-12 text-white/90 tracking-tighter",children:e}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 gap-y-12",children:S.map((h,P)=>{var A;return h.poster_path&&c.jsxs(le.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},whileHover:{y:-10,scale:1.05},transition:{duration:.4,type:"spring",stiffness:300,damping:20},viewport:{once:!0,margin:"50px"},className:"group cursor-pointer flex flex-col gap-3 relative z-0 hover:z-10 will-change-transform",onClick:()=>i(`/watch/${h.media_type||"movie"}/${h.id}`),children:[c.jsxs("div",{className:"relative aspect-[2/3] rounded-2xl overflow-hidden bg-white/5 shadow-lg group-hover:shadow-[0_0_30px_rgba(255,255,255,0.15)] transition-all duration-300 ring-0 group-hover:ring-2 ring-white/20",children:[c.jsx(le.img,{initial:{opacity:0,filter:"blur(10px)"},whileInView:{opacity:1,filter:"blur(0px)"},transition:{duration:.5},src:`${ps}${h.poster_path}`,alt:h.title,className:"w-full h-full object-cover transition-transform duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)] group-hover:scale-110",loading:"lazy"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-80 transition-opacity duration-300"}),c.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-20 overflow-hidden",children:c.jsx("div",{className:"absolute top-0 left-[-150%] w-[100%] h-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-[-25deg] group-hover:animate-[shine_0.8s_ease-out_0.2s_forwards]"})}),c.jsxs("div",{className:"absolute top-3 right-3 bg-black/60 backdrop-blur-md px-2 py-1 rounded-md flex items-center gap-1 border border-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-[-10px] group-hover:translate-y-0",children:[c.jsx("span",{className:"text-[#f5c518] text-xs",children:"â˜…"}),c.jsx("span",{className:"text-white text-xs font-bold",children:(A=h.vote_average)==null?void 0:A.toFixed(1)})]})]}),c.jsxs("div",{className:"px-1 space-y-1",children:[c.jsx("h3",{className:"font-bold text-base leading-snug text-white/90 group-hover:text-white transition-colors line-clamp-1",children:h.title||h.name}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50 font-medium",children:[c.jsx("span",{children:(h.release_date||h.first_air_date||"").slice(0,4)}),c.jsx("span",{className:"w-1 h-1 rounded-full bg-white/20"}),c.jsx("span",{className:"uppercase tracking-wider",children:h.media_type||"Movie"})]})]})]},`${h.id}-${P}`)})}),c.jsx("div",{ref:p,className:"h-20 w-full flex items-center justify-center mt-12",children:d&&c.jsxs("div",{className:"flex items-center gap-2 text-white/50 text-sm",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce [animation-delay:-.1s]"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce [animation-delay:-.2s]"}),"Loading more..."]})})]})};export{ws as B,ps as I,Rs as M,ms as N,Ft as a,Ns as b,Es as c,ys as d,us as u};
