import{b as v,u as w,r as d,j as e,m as i}from"./index-9241cc72.js";import{b as j,u as y,a as x,B as N,I as k,M as h,c as l}from"./MasonryGrid-7fa00509.js";const M=()=>{var c;const{type:s,id:a}=v(),m=w(),[r,n]=d.useState(!1),u=d.useRef(null),{data:t,isLoading:p}=j({queryKey:["details",s,a],queryFn:()=>l.getDetails(s,a)}),{scrollY:o}=y(),g=x(o,[0,500],[0,150]),b=x(o,[0,400],[1,0]);if(p)return e.jsx("div",{className:"h-screen w-full bg-[#0a0a0a] grid place-items-center text-white/20 animate-pulse",children:"Loading Experience..."});const f=s==="tv"?`https://www.vidking.net/embed/tv/${a}/1/1`:`https://www.vidking.net/embed/movie/${a}`;return e.jsxs("div",{ref:u,className:"relative min-h-screen bg-[#0a0a0a] text-white w-full overflow-hidden",children:[e.jsxs(i.div,{style:{y:g,opacity:r?0:b},className:"fixed inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center scale-110",style:{backgroundImage:`url(${N}${t.backdrop_path})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a]/60 to-black/30"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"})]}),e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 p-6 flex justify-between items-center bg-gradient-to-b from-black/80 to-transparent pointer-events-none",children:e.jsxs("button",{onClick:()=>m("/"),className:"pointer-events-auto bg-white/5 backdrop-blur-xl border border-white/10 px-5 py-2.5 rounded-full flex items-center gap-2 hover:bg-white/10 transition-all hover:scale-105 group",children:[e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"group-hover:-translate-x-1 transition-transform",children:e.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),e.jsx("span",{className:"font-medium text-sm",children:"Back to Browse"})]})}),e.jsx("div",{className:"relative z-10 pt-[15vh] pb-32",children:r?e.jsx(i.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full h-screen fixed inset-0 z-50 bg-black flex flex-col",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("iframe",{src:f,className:"w-full h-full border-0",allowFullScreen:!0,allow:"autoplay; encrypted-media; picture-in-picture"}),e.jsx("button",{onClick:()=>n(!1),className:"absolute top-6 right-6 bg-white/10 backdrop-blur-md p-3 rounded-full hover:bg-white/20 transition-all border border-white/5",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})}):e.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 md:px-12 grid grid-cols-1 lg:grid-cols-[1fr,400px] gap-12 lg:gap-24 items-end min-h-[60vh]",children:[e.jsxs(i.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-white/10 backdrop-blur-md text-xs font-bold tracking-wider uppercase text-white/80 border border-white/5",children:s==="tv"?"TV Series":"Feature Film"}),e.jsx("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-black tracking-tighter leading-[0.9] text-white",children:t.title||t.name})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-lg font-medium text-white/70",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#f5c518] text-2xl",children:"â˜…"}),e.jsx("span",{className:"text-white",children:(c=t.vote_average)==null?void 0:c.toFixed(1)})]}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white/20"}),e.jsx("span",{children:(t.release_date||t.first_air_date||"").slice(0,4)}),t.runtime>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white/20"}),e.jsxs("span",{children:[Math.floor(t.runtime/60),"h ",t.runtime%60,"m"]})]})]}),e.jsx("p",{className:"text-xl leading-relaxed text-white/80 max-w-2xl font-light",children:t.overview}),e.jsxs("button",{onClick:()=>n(!0),className:"group relative px-10 py-5 bg-white text-black rounded-full font-bold text-xl flex items-center gap-3 hover:scale-105 transition-transform shadow-[0_0_50px_-10px_rgba(255,255,255,0.4)]",children:[e.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center group-hover:bg-[#2997FF] transition-colors",children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",className:"ml-1",children:e.jsx("path",{d:"M8 5v14l11-7z"})})}),e.jsx("span",{children:"Watch Now"})]})]}),e.jsxs(i.div,{initial:{opacity:0,scale:.9,rotate:3},animate:{opacity:1,scale:1,rotate:0},transition:{duration:.8,delay:.2},className:"hidden lg:block relative",children:[e.jsx("img",{src:`${k}${t.poster_path}`,alt:"Poster",className:"w-full rounded-2xl shadow-2xl ring-1 ring-white/10 rotate-3 hover:rotate-0 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-black/50 to-transparent pointer-events-none"})]})]})}),!r&&e.jsxs("div",{className:"relative z-10 bg-[#0a0a0a] min-h-screen pt-20 rounded-t-[3rem] shadow-[0_-20px_60px_rgba(0,0,0,0.8)] border-t border-white/5",children:[e.jsx(h,{title:"You Might Also Like",queryKey:`similar-${a}`,queryFn:()=>l.getSimilar(s,a)}),e.jsx(h,{title:"Recommended For You",queryKey:`recommended-${a}`,queryFn:()=>l.getRecommended(s,a)})]})]})};export{M as default};
