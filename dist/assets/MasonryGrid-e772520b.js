var ge=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var n=(e,t,s)=>(ge(e,t,"read from private field"),s?s.call(e):t.get(e)),p=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},m=(e,t,s,r)=>(ge(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s);var y=(e,t,s)=>(ge(e,t,"access private method"),s);import{S as rt,p as We,c as j,s as ve,d as G,n as ye,i as be,e as Be,t as it,f as le,g as nt,h as ot,k as ze,l as Ge,r as w,o as Ze,q as at,v as Ce,w as V,M as lt,x as Xe,y as Ke,z as qe,B as Y,C as me,D as ct,E as ht,F as ut,G as dt,H as ft,I as pt,j as l,m as ce,u as gt}from"./index-1a09b188.js";var S,u,X,E,W,F,O,L,K,H,Q,B,z,k,$,A,J,q,we,ee,Ee,te,Se,se,Re,re,je,ie,Ne,ne,Ie,de,et,Je,mt=(Je=class extends rt{constructor(t,s){super();p(this,A);p(this,q);p(this,ee);p(this,te);p(this,se);p(this,re);p(this,ie);p(this,ne);p(this,de);p(this,S,void 0);p(this,u,void 0);p(this,X,void 0);p(this,E,void 0);p(this,W,void 0);p(this,F,void 0);p(this,O,void 0);p(this,L,void 0);p(this,K,void 0);p(this,H,void 0);p(this,Q,void 0);p(this,B,void 0);p(this,z,void 0);p(this,k,void 0);p(this,$,new Set);this.options=s,m(this,S,t),m(this,L,null),m(this,O,We()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,u).addObserver(this),Ae(n(this,u),this.options)?y(this,A,J).call(this):this.updateResult(),y(this,se,Re).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Me(n(this,u),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Me(n(this,u),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,y(this,re,je).call(this),y(this,ie,Ne).call(this),n(this,u).removeObserver(this)}setOptions(t){const s=this.options,r=n(this,u);if(this.options=n(this,S).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof j(this.options.enabled,n(this,u))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");y(this,ne,Ie).call(this),n(this,u).setOptions(this.options),s._defaulted&&!ve(this.options,s)&&n(this,S).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,u),observer:this});const i=this.hasListeners();i&&Pe(n(this,u),r,this.options,s)&&y(this,A,J).call(this),this.updateResult(),i&&(n(this,u)!==r||j(this.options.enabled,n(this,u))!==j(s.enabled,n(this,u))||G(this.options.staleTime,n(this,u))!==G(s.staleTime,n(this,u)))&&y(this,q,we).call(this);const o=y(this,ee,Ee).call(this);i&&(n(this,u)!==r||j(this.options.enabled,n(this,u))!==j(s.enabled,n(this,u))||o!==n(this,k))&&y(this,te,Se).call(this,o)}getOptimisticResult(t){const s=n(this,S).getQueryCache().build(n(this,S),t),r=this.createResult(s,t);return vt(this,r)&&(m(this,E,r),m(this,F,this.options),m(this,W,n(this,u).state)),r}getCurrentResult(){return n(this,E)}trackResult(t,s){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),s==null||s(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&n(this,O).status==="pending"&&n(this,O).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(t){n(this,$).add(t)}getCurrentQuery(){return n(this,u)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=n(this,S).defaultQueryOptions(t),r=n(this,S).getQueryCache().build(n(this,S),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return y(this,A,J).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,E)))}createResult(t,s){var ke;const r=n(this,u),i=this.options,o=n(this,E),a=n(this,W),c=n(this,F),d=t!==r?t.state:n(this,X),{state:v}=t;let f={...v},x=!1,g;if(s._optimisticResults){const R=this.hasListeners(),oe=!R&&Ae(t,s),D=R&&Pe(t,r,s,i);(oe||D)&&(f={...f,...ot(v.data,t.options)}),s._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:M,errorUpdatedAt:C,status:h}=f;g=f.data;let _=!1;if(s.placeholderData!==void 0&&g===void 0&&h==="pending"){let R;o!=null&&o.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData)?(R=o.data,_=!0):R=typeof s.placeholderData=="function"?s.placeholderData((ke=n(this,Q))==null?void 0:ke.state.data,n(this,Q)):s.placeholderData,R!==void 0&&(h="success",g=ze(o==null?void 0:o.data,R,s),x=!0)}if(s.select&&g!==void 0&&!_)if(o&&g===(a==null?void 0:a.data)&&s.select===n(this,K))g=n(this,H);else try{m(this,K,s.select),g=s.select(g),g=ze(o==null?void 0:o.data,g,s),m(this,H,g),m(this,L,null)}catch(R){m(this,L,R)}n(this,L)&&(M=n(this,L),g=n(this,H),C=Date.now(),h="error");const P=f.fetchStatus==="fetching",fe=h==="pending",pe=h==="error",Te=fe&&P,Le=g!==void 0,N={status:h,fetchStatus:f.fetchStatus,isPending:fe,isSuccess:h==="success",isError:pe,isInitialLoading:Te,isLoading:Te,data:g,dataUpdatedAt:f.dataUpdatedAt,error:M,errorUpdatedAt:C,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:P,isRefetching:P&&!fe,isLoadingError:pe&&!Le,isPaused:f.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:pe&&Le,isStale:_e(t,s),refetch:this.refetch,promise:n(this,O),isEnabled:j(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=ae=>{N.status==="error"?ae.reject(N.error):N.data!==void 0&&ae.resolve(N.data)},oe=()=>{const ae=m(this,O,N.promise=We());R(ae)},D=n(this,O);switch(D.status){case"pending":t.queryHash===r.queryHash&&R(D);break;case"fulfilled":(N.status==="error"||N.data!==D.value)&&oe();break;case"rejected":(N.status!=="error"||N.error!==D.reason)&&oe();break}}return N}updateResult(){const t=n(this,E),s=this.createResult(n(this,u),this.options);if(m(this,W,n(this,u).state),m(this,F,this.options),n(this,W).data!==void 0&&m(this,Q,n(this,u)),ve(s,t))return;m(this,E,s);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!n(this,$).size)return!0;const a=new Set(o??n(this,$));return this.options.throwOnError&&a.add("error"),Object.keys(n(this,E)).some(c=>{const b=c;return n(this,E)[b]!==t[b]&&a.has(b)})};y(this,de,et).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&y(this,se,Re).call(this)}},S=new WeakMap,u=new WeakMap,X=new WeakMap,E=new WeakMap,W=new WeakMap,F=new WeakMap,O=new WeakMap,L=new WeakMap,K=new WeakMap,H=new WeakMap,Q=new WeakMap,B=new WeakMap,z=new WeakMap,k=new WeakMap,$=new WeakMap,A=new WeakSet,J=function(t){y(this,ne,Ie).call(this);let s=n(this,u).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(ye)),s},q=new WeakSet,we=function(){y(this,re,je).call(this);const t=G(this.options.staleTime,n(this,u));if(be||n(this,E).isStale||!Be(t))return;const r=it(n(this,E).dataUpdatedAt,t)+1;m(this,B,le.setTimeout(()=>{n(this,E).isStale||this.updateResult()},r))},ee=new WeakSet,Ee=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,u)):this.options.refetchInterval)??!1},te=new WeakSet,Se=function(t){y(this,ie,Ne).call(this),m(this,k,t),!(be||j(this.options.enabled,n(this,u))===!1||!Be(n(this,k))||n(this,k)===0)&&m(this,z,le.setInterval(()=>{(this.options.refetchIntervalInBackground||nt.isFocused())&&y(this,A,J).call(this)},n(this,k)))},se=new WeakSet,Re=function(){y(this,q,we).call(this),y(this,te,Se).call(this,y(this,ee,Ee).call(this))},re=new WeakSet,je=function(){n(this,B)&&(le.clearTimeout(n(this,B)),m(this,B,void 0))},ie=new WeakSet,Ne=function(){n(this,z)&&(le.clearInterval(n(this,z)),m(this,z,void 0))},ne=new WeakSet,Ie=function(){const t=n(this,S).getQueryCache().build(n(this,S),this.options);if(t===n(this,u))return;const s=n(this,u);m(this,u,t),m(this,X,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},de=new WeakSet,et=function(t){Ge.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(n(this,E))}),n(this,S).getQueryCache().notify({query:n(this,u),type:"observerResultsUpdated"})})},Je);function xt(e,t){return j(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ae(e,t){return xt(e,t)||e.state.data!==void 0&&Me(e,t,t.refetchOnMount)}function Me(e,t,s){if(j(t.enabled,e)!==!1&&G(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&_e(e,t)}return!1}function Pe(e,t,s,r){return(e!==t||j(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&_e(e,s)}function _e(e,t){return j(t.enabled,e)!==!1&&e.isStaleByTime(G(t.staleTime,e))}function vt(e,t){return!ve(e.getCurrentResult(),t)}var tt=w.createContext(!1),yt=()=>w.useContext(tt);tt.Provider;function bt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wt=w.createContext(bt()),Et=()=>w.useContext(wt),St=(e,t,s)=>{const r=s!=null&&s.state.error&&typeof e.throwOnError=="function"?Ze(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},Rt=e=>{w.useEffect(()=>{e.clearReset()},[e])},jt=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Ze(s,[e.error,r])),Nt=e=>{if(e.suspense){const s=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>s(r(...i)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},It=(e,t)=>e.isLoading&&e.isFetching&&!t,Mt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,De=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Ot(e,t,s){var x,g,M,C;const r=yt(),i=Et(),o=at(s),a=o.defaultQueryOptions(e);(g=(x=o.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||g.call(x,a);const c=o.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",Nt(a),St(a,i,c),Rt(i);const b=!o.getQueryCache().get(a.queryHash),[d]=w.useState(()=>new t(o,a)),v=d.getOptimisticResult(a),f=!r&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(h=>{const _=f?d.subscribe(Ge.batchCalls(h)):ye;return d.updateResult(),_},[d,f]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),w.useEffect(()=>{d.setOptions(a)},[a,d]),Mt(a,v))throw De(a,d,i);if(jt({result:v,errorResetBoundary:i,throwOnError:a.throwOnError,query:c,suspense:a.suspense}))throw v.error;if((C=(M=o.getDefaultOptions().queries)==null?void 0:M._experimental_afterQuery)==null||C.call(M,a,v),a.experimental_prefetchInRender&&!be&&It(v,r)){const h=b?De(a,d,i):c==null?void 0:c.promise;h==null||h.catch(ye).finally(()=>{d.updateResult()})}return a.notifyOnChangeProps?v:d.trackResult(v)}function gs(e,t){return Ot(e,mt,t)}function Ct(e){const t=Ce(()=>V(e)),{isStatic:s}=w.useContext(lt);if(s){const[,r]=w.useState(e);w.useEffect(()=>t.on("change",r),[])}return t}const _t=e=>e&&typeof e=="object"&&e.mix,Tt=e=>_t(e)?e.mix:void 0;function Lt(...e){const t=!Array.isArray(e[0]),s=t?0:-1,r=e[0+s],i=e[1+s],o=e[2+s],a=e[3+s],c=Xe(i,o,{mixer:Tt(o[0]),...a});return t?c(r):c}function st(e,t){const s=Ct(t()),r=()=>s.set(t());return r(),Ke(()=>{const i=()=>Y.update(r,!1,!0),o=e.map(a=>a.on("change",i));return()=>{o.forEach(a=>a()),qe(r)}}),s}function kt(e){me.current=[],e();const t=st(me.current,e);return me.current=void 0,t}function Wt(e,t,s,r){if(typeof e=="function")return kt(e);const i=typeof t=="function"?t:Lt(t,s,r);return Array.isArray(e)?Fe(e,i):Fe([e],([o])=>i(o))}function Fe(e,t){const s=Ce(()=>[]);return st(e,()=>{s.length=0;const r=e.length;for(let i=0;i<r;i++)s[i]=e[i].get();return t(s)})}function Bt(e,t,s){var r;if(typeof e=="string"){let i=document;t&&(ct(!!t.current),i=t.current),s?((r=s[e])!==null&&r!==void 0||(s[e]=i.querySelectorAll(e)),e=s[e]):e=i.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const he=new WeakMap;let T;function zt(e,t){if(t){const{inlineSize:s,blockSize:r}=t[0];return{width:s,height:r}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function At({target:e,contentRect:t,borderBoxSize:s}){var r;(r=he.get(e))===null||r===void 0||r.forEach(i=>{i({target:e,contentSize:t,get size(){return zt(e,s)}})})}function Pt(e){e.forEach(At)}function Dt(){typeof ResizeObserver>"u"||(T=new ResizeObserver(Pt))}function Ft(e,t){T||Dt();const s=Bt(e);return s.forEach(r=>{let i=he.get(r);i||(i=new Set,he.set(r,i)),i.add(t),T==null||T.observe(r)}),()=>{s.forEach(r=>{const i=he.get(r);i==null||i.delete(t),i!=null&&i.size||T==null||T.unobserve(r)})}}const ue=new Set;let Z;function Ht(){Z=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};ue.forEach(s=>s(t))},window.addEventListener("resize",Z)}function Qt(e){return ue.add(e),Z||Ht(),()=>{ue.delete(e),!ue.size&&Z&&(Z=void 0)}}function $t(e,t){return typeof e=="function"?Qt(e):Ft(e,t)}const Ut=50,He=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Vt=()=>({time:0,x:He(),y:He()}),Yt={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Qe(e,t,s,r){const i=s[t],{length:o,position:a}=Yt[t],c=i.current,b=s.time;i.current=e["scroll"+a],i.scrollLength=e["scroll"+o]-e["client"+o],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=ht(0,i.scrollLength,i.current);const d=r-b;i.velocity=d>Ut?0:ut(i.current-c,d)}function Jt(e,t,s){Qe(e,"x",t,s),Qe(e,"y",t,s),t.time=s}function Gt(e,t){const s={x:0,y:0};let r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)s.x+=r.offsetLeft,s.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();s.x+=i.left-o.left,s.y+=i.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:o}=r.getBBox();s.x+=i,s.y+=o;let a=null,c=r.parentNode;for(;!a;)c.tagName==="svg"&&(a=c),c=r.parentNode;r=a}else break;return s}const Zt={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Oe={start:0,center:.5,end:1};function $e(e,t,s=0){let r=0;if(Oe[e]!==void 0&&(e=Oe[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?r=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?r=i/100*document.documentElement.clientWidth:e.endsWith("vh")?r=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(r=t*e),s+r}const Xt=[0,0];function Kt(e,t,s,r){let i=Array.isArray(e)?e:Xt,o=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Oe[e]?e:"0"]),o=$e(i[0],s,r),a=$e(i[1],t),o-a}const qt={x:0,y:0};function es(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function ts(e,t,s){let{offset:r=Zt.All}=s;const{target:i=e,axis:o="y"}=s,a=o==="y"?"height":"width",c=i!==e?Gt(i,e):qt,b=i===e?{width:e.scrollWidth,height:e.scrollHeight}:es(i),d={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let v=!t[o].interpolate;const f=r.length;for(let x=0;x<f;x++){const g=Kt(r[x],d[a],b[a],c[o]);!v&&g!==t[o].interpolatorOffsets[x]&&(v=!0),t[o].offset[x]=g}v&&(t[o].interpolate=Xe(t[o].offset,dt(r)),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=t[o].interpolate(t[o].current)}function ss(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)s.x.targetOffset+=r.offsetLeft,s.y.targetOffset+=r.offsetTop,r=r.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function rs(e,t,s,r={}){return{measure:()=>ss(e,r.target,s),update:i=>{Jt(e,s,i),(r.offset||r.target)&&ts(e,s,r)},notify:()=>t(s)}}const U=new WeakMap,Ue=new WeakMap,xe=new WeakMap,Ve=e=>e===document.documentElement?window:e;function is(e,{container:t=document.documentElement,...s}={}){let r=xe.get(t);r||(r=new Set,xe.set(t,r));const i=Vt(),o=rs(t,e,i,s);if(r.add(o),!U.has(t)){const c=()=>{for(const x of r)x.measure()},b=()=>{for(const x of r)x.update(ft.timestamp)},d=()=>{for(const x of r)x.notify()},v=()=>{Y.read(c,!1,!0),Y.read(b,!1,!0),Y.update(d,!1,!0)};U.set(t,v);const f=Ve(t);window.addEventListener("resize",v,{passive:!0}),t!==document.documentElement&&Ue.set(t,$t(t,v)),f.addEventListener("scroll",v,{passive:!0})}const a=U.get(t);return Y.read(a,!1,!0),()=>{var c;qe(a);const b=xe.get(t);if(!b||(b.delete(o),b.size))return;const d=U.get(t);U.delete(t),d&&(Ve(t).removeEventListener("scroll",d),(c=Ue.get(t))===null||c===void 0||c(),window.removeEventListener("resize",d))}}function Ye(e,t){pt(!!(!t||t.current))}const ns=()=>({scrollX:V(0),scrollY:V(0),scrollXProgress:V(0),scrollYProgress:V(0)});function os({container:e,target:t,layoutEffect:s=!0,...r}={}){const i=Ce(ns);return(s?Ke:w.useEffect)(()=>(Ye("target",t),Ye("container",e),is(({x:a,y:c})=>{i.scrollX.set(a.current),i.scrollXProgress.set(a.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(r.offset)]),i}const as="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0MWRiNTg1MGZjYTY1ZDk4NDkxNzYxNjU4OWMxMzcyMiIsIm5iZiI6MTc1ODc0Mjk3Mi4wMTIsInN1YiI6IjY4ZDQ0OWJiY2FiYmYxM2NkYTcxOWNmYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.y_wbEycxapRlawH-g4BwjBMpeD7Xnb7BFCHmMLuW2ZY",ls="https://api.themoviedb.org/3",cs="https://image.tmdb.org/t/p/w500",ms="https://image.tmdb.org/t/p/original",I=async e=>{const t=await fetch(`${ls}${e}`,{headers:{Authorization:`Bearer ${as}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Network response was not ok");return t.json()},xs={getTrending:(e=1)=>I(`/trending/all/day?page=${e}`),getTopRated:(e=1)=>I(`/movie/top_rated?page=${e}`),getActionMovies:(e=1)=>I(`/discover/movie?with_genres=28&page=${e}`),getByGenre:(e,t=1)=>I(`/discover/movie?with_genres=${e}&page=${t}`),getDetails:(e,t)=>I(`/${e}/${t}`),search:(e,t=1)=>I(`/search/multi?query=${encodeURIComponent(e)}&page=${t}`),getSimilar:(e,t,s=1)=>I(`/${e}/${t}/similar?page=${s}`),getRecommended:(e,t,s=1)=>I(`/${e}/${t}/recommendations?page=${s}`),getVideos:(e,t)=>I(`/${e}/${t}/videos`),getCredits:(e,t)=>I(`/${e}/${t}/credits`)},vs=()=>{const[e,t]=w.useState(()=>{try{const o=localStorage.getItem("vexo_watchlist");return o?JSON.parse(o):[]}catch{return[]}});return w.useEffect(()=>{localStorage.setItem("vexo_watchlist",JSON.stringify(e))},[e]),{watchlist:e,addToWatchlist:o=>{t(a=>a.find(c=>c.id===o.id)?a:[...a,{...o,timestamp:Date.now()}])},removeFromWatchlist:o=>{t(a=>a.filter(c=>c.id!==o))},isInWatchlist:o=>!!e.find(a=>a.id===o)}},hs=()=>l.jsxs("div",{className:"relative aspect-[2/3] rounded-2xl overflow-hidden bg-white/5",children:[l.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/5 to-transparent backdrop-blur-sm"}),l.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[l.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]}),us=({onRetry:e})=>l.jsx("div",{className:"flex flex-col items-center justify-center p-8 text-center bg-[#0a0a0a] min-h-[50vh] w-full",children:l.jsxs(ce.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md space-y-6",children:[l.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto text-red-500 mb-6",children:l.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 1l22 22"}),l.jsx("path",{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"}),l.jsx("path",{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"}),l.jsx("path",{d:"M10.71 5.05A16 16 0 0 1 22.58 9"}),l.jsx("path",{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"}),l.jsx("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),l.jsx("line",{x1:"12",y1:"20",x2:"12.01",y2:"20"})]})}),l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white",children:"Connection Failed"}),l.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-left space-y-2",children:[l.jsx("p",{className:"text-white/80 font-medium",children:"Tips to fix this:"}),l.jsxs("ul",{className:"text-sm text-white/60 list-disc list-inside space-y-1",children:[l.jsx("li",{children:"Check your internet connection"}),l.jsx("li",{className:"text-yellow-400/90 font-semibold",children:"Try enabling a VPN (TMDB may be blocked)"}),l.jsx("li",{children:"Disable ad-blockers"})]})]}),l.jsx("button",{onClick:e,className:"px-8 py-3 bg-white text-black rounded-full font-bold hover:scale-105 transition-transform",children:"Try Again"})]})}),ys=({title:e,queryKey:t,queryFn:s})=>{const r=gt(),{data:i,isLoading:o,isError:a,fetchNextPage:c,hasNextPage:b,isFetchingNextPage:d,refetch:v}=useInfiniteQuery({queryKey:[t],queryFn:({pageParam:h=1})=>s(h),getNextPageParam:h=>h.page<h.total_pages?h.page+1:void 0}),f=w.useRef(),x=w.useRef();useEffect(()=>{o||(f.current&&f.current.disconnect(),f.current=new IntersectionObserver(h=>{h[0].isIntersecting&&b&&!d&&c()}),x.current&&f.current.observe(x.current))},[o,b,d,c]);const g=w.useRef(null),{scrollYProgress:M}=os({target:g,offset:["start end","end start"]});if(Wt(M,[0,1],[50,-50]),a)return l.jsxs("section",{className:"px-4 md:px-8 py-12 max-w-[1800px] mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-white/50 mb-8",children:e}),l.jsx("div",{className:"bg-white/5 rounded-2xl border border-white/5 overflow-hidden",children:l.jsx(us,{onRetry:v})})]});if(o)return l.jsxs("section",{className:"px-4 md:px-8 py-12 max-w-[1800px] mx-auto",children:[l.jsx("div",{className:"h-10 w-48 bg-white/5 rounded mb-12 animate-pulse"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 gap-y-12",children:[...Array(10)].map((h,_)=>l.jsx(hs,{},_))})]});const C=(i==null?void 0:i.results)||[];return C.length===0?l.jsxs("section",{className:"h-[60vh] flex flex-col items-center justify-center text-center px-6",children:[l.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-6",children:l.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"text-white/40",children:l.jsx("path",{d:"M10 21h4a9 9 0 1 0-9-9v3m0 0 4-4m-4 4-4-4"})})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"No Results Found"}),l.jsx("p",{className:"text-white/50 max-w-sm",children:"We couldn't find anything matching your search. Try adjusting your filters or search term."})]}):l.jsxs("section",{ref:g,className:"px-4 md:px-8 py-12 max-w-[1800px] mx-auto",children:[l.jsx(ce.h2,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"text-4xl md:text-5xl font-black mb-12 text-white/90 tracking-tighter",children:e}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 gap-y-12",children:C.map((h,_)=>{var P;return h.poster_path&&l.jsxs(ce.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},whileHover:{y:-10,scale:1.05},transition:{duration:.4,type:"spring",stiffness:300,damping:20},viewport:{once:!0,margin:"50px"},className:"group cursor-pointer flex flex-col gap-3 relative z-0 hover:z-10 will-change-transform",onClick:()=>r(`/watch/${h.media_type||"movie"}/${h.id}`),children:[l.jsxs("div",{className:"relative aspect-[2/3] rounded-2xl overflow-hidden bg-white/5 shadow-lg group-hover:shadow-[0_0_30px_rgba(255,255,255,0.15)] transition-all duration-300 ring-0 group-hover:ring-2 ring-white/20",children:[l.jsx(ce.img,{initial:{opacity:0,filter:"blur(10px)"},whileInView:{opacity:1,filter:"blur(0px)"},transition:{duration:.5},src:`${cs}${h.poster_path}`,alt:h.title,className:"w-full h-full object-cover transition-transform duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)] group-hover:scale-110",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-80 transition-opacity duration-300"}),l.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-20 overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-[-150%] w-[100%] h-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-[-25deg] group-hover:animate-[shine_0.8s_ease-out_0.2s_forwards]"})}),l.jsxs("div",{className:"absolute top-3 right-3 bg-black/60 backdrop-blur-md px-2 py-1 rounded-md flex items-center gap-1 border border-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-[-10px] group-hover:translate-y-0",children:[l.jsx("span",{className:"text-[#f5c518] text-xs",children:"â˜…"}),l.jsx("span",{className:"text-white text-xs font-bold",children:(P=h.vote_average)==null?void 0:P.toFixed(1)})]})]}),l.jsxs("div",{className:"px-1 space-y-1",children:[l.jsx("h3",{className:"font-bold text-base leading-snug text-white/90 group-hover:text-white transition-colors line-clamp-1",children:h.title||h.name}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/50 font-medium",children:[l.jsx("span",{children:(h.release_date||h.first_air_date||"").slice(0,4)}),l.jsx("span",{className:"w-1 h-1 rounded-full bg-white/20"}),l.jsx("span",{className:"uppercase tracking-wider",children:h.media_type||"Movie"})]})]})]},`${h.id}-${_}`)})})]})};export{ms as B,cs as I,ys as M,us as N,Wt as a,vs as b,xs as c,gs as d,os as u};
